CREATE OR REPLACE PROCEDURE DUOC.SAVENGUOIDUNG 
(
IN TENDANGNHAP CHAR(50),
IN MATKHAU CHAR(50),
IN HOTEN VARCHAR(50)
)
P1: BEGIN ATOMIC
	DECLARE SQLCODE INT;
	UPDATE DUOC.NGUOIDUNG
	SET MATKHAU = SAVENGUOIDUNG.MATKHAU,
		HOTEN = SAVENGUOIDUNG.HOTEN
	WHERE TENDANGNHAP = SAVENGUOIDUNG.TENDANGNHAP;
	IF (SQLCODE != 0) THEN
		INSERT INTO DUOC.NGUOIDUNG(TENDANGNHAP, MATKHAU, HOTEN)
		VALUES(SAVENGUOIDUNG.TENDANGNHAP, SAVENGUOIDUNG.MATKHAU, SAVENGUOIDUNG.HOTEN);
	END IF; 
END P1